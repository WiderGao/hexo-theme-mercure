<div id="tcomment"></div>
<script src="https://cdn.jsdelivr.net/npm/twikoo@1.4.4/dist/twikoo.all.min.js" async></script>
<script type="text/javascript">
  (function () {
    function loadComments() {
      twikoo.init({
        envId: '<%- theme.comments.twikoo.envId %>',
        el: '#tcomment',
        // region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数
        // path: 'window.location.pathname', // 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数
        // lang: 'zh-CN', // 用于手动设定评论区语言，支持的语言列表 https://github.com/imaegoo/twikoo/blob/dev/src/js/utils/i18n/index.js
        katex: {
          delimiters: [
            { left: '$$', right: '$$', display: true },
            { left: '$', right: '$', display: false },
            { left: '\\(', right: '\\)', display: false },
            { left: '\\[', right: '\\]', display: true }
          ],
          throwOnError: false
        }
      })
    }
    var commentLoadCounter = 0;
    var commentloadTimer = setInterval(function () {
      if (window.twikoo) {
        loadComments();
        clearInterval(commentloadTimer);
      }
      if (commentLoadCounter > 10000) {
        clearInterval(commentloadTimer);
      }
      commentLoadCounter += 500;
    }, 500);
  })();
</script>
<style>
  .comments svg {
    display: inline;
  }
</style>
